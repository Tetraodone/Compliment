<!doctype html>
<html>
	<head>
		<title>Compliment</title>
		<link rel="stylesheet" type="text/css" href="main.css">
		<script src="./js/jquery-3.2.1.min.js"></script>
		<script src="./js/jscolor.js"></script>
		<script src="./js/hexconv.js"></script>
		<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.6.9/angular.min.js"></script>
		<script src="./js/compliment_angular.js"></script>
		<meta charset="UTF-8">
	</head>

	<body id="body">
		<div class="miniheader" ng-app="header" ng-controller="myCtrl">
			<span *ngFor"let color of history; let i = index" id="history{{i}}"><b2>{{color}}</b2></span>
		</div>
		<div class="landtext"><t1><br>COMPLIMENT</t1></div>
		<form id="mainform">
	  <label for="fname"><b1>Main Colour</b1></label>
		<br>
	  <input type="text" id="thisrgb" onchange="errorhandle()" placeholder="RGB">
		<br>
		<button class="jscolor{valueElement:'hexval'}" onblur="hexToRgb()">Colour Picker</button>

		<input type="submit" value="Compliment Me" id="submit_button" onclick="hexToComplimentary()">
		</form>

		<script src="jscolor.js"></script>
		<div class="pickercontainer">

			<br>
			<input type="text" id="hexval" style="display:none;"placeholder="HEX">
		</div>

		<div class="landtext">
			<div class="compcontainer">
				<div class="typeeffect">
					<t2 id="randcompliment">Hi</t2>
				</div>
			</div>

			<br> <br>
			<b1>Compimentary Color</b1><br><b1 id="result"></b1>
			</div>

			<div class="footer">
				<div class="footercontainer">
				<b2>By Corey Bourke  <hm> &nbsp; &nbsp; - &nbsp; &nbsp;</hm>  <div class="break"><b1><br></b1></div><i> Animation Credit &nbsp;: &nbsp;<a href="https://www.gradient-animator.com/">Gradient Animator</a></i></b2>
			</div>
			</div>
	</body>



<script>
	var compliments = ["I love you :)", "Have a good day <3", "You are doing great ; )", "Keep up the good work <3", "You are amazing", "You are the best!", "You look great omg.", "You are beautiful!"];
var isheader = false;

function hexToRgb(){

	var hex = $('#hexval').val();
		var res0lt = /^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(hex);
		var res = res0lt.toString().split(',');
			var	r = parseInt(res[1], 16);
			var g = parseInt(res[2], 16);
			var  b = parseInt(res[3], 16);
		var endrgb = r+","+g+","+b;
		$('#thisrgb').val(endrgb);
		$("#submit_button").removeAttr('disabled');
}

	function errorhandle(){
		var test = $('#thisrgb').val();
		var lt = test.length;
		if(test.length > 5){
			var ls = test.indexOf(",");
			if(ls < 3){return;}
			$("#submit_button").removeAttr('disabled');
		}
	}

	function copyrgb(history){
		angular.element(document.getElementById('miniheader')).scope().addHistory(history);

		$("#thisrgb").val(historyrgb);
		alert(historyrgb);
		hexToComplimentary();
	}

	var timercount = 0;

	//prevent submit refresh
	$("#mainform").submit(function(e) {
	    e.preventDefault();
	});

	  function colourcalc(){
	    var colorval = "";
	    var myrgb = $('#thisrgb').val();
	    var bgstyle = "rgb(" + myrgb + ")";
	    setcolour(bgstyle)
	  }

	  function setcolour(compcolor){
	    //get main rgb
	    var myrgb = $('#thisrgb').val();



	    myrgb = "rgb(" + myrgb + ")";
	    var grad = "linear-gradient( 0deg, " + myrgb + ", " + compcolor + ")";
	    $("body").css("background", grad);
	    $("body").css({'background': grad, 'background-size': '200% 200%', '-webkit-animation': 'AnimationName 4s ease infinite', 'animation': 'AnimationName 4s ease infinite'});
	    $("#result").html(compcolor);
	    compliment();
	  }

		function compliment(){
		  var choice = compliments[Math.floor(Math.random() * compliments.length)];
		  $("#randcompliment").html(choice);
		  $('#randcompliment').css('-webkit-animation','none');
		  setTimeout(function() {
		        $('#randcompliment').css('-webkit-animation','');;
		  }, 10);
		  clearInterval(randomcolours);
		}
</script>


</html>
